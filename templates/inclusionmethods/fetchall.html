<!DOCTYPE html>
<html>
<head>
</head>
<body>
    <script>
        window.fetchresponse = []
        window.error = []


        window.InclusionMethod = async () => {
            for (let mode of ['no-cors', 'cors', 'same-origin', 'navigate', 'websocket']) {
                for (let cache of ['default', 'no-store', 'reload', 'no-cache', 'force-cache', 'only-if-cached']) {
                    for (let redirect of ['follow', 'error', 'manual']) {
                        for (let integrity of ['', 'sha256-abc']) {
                            try {
                                window.fetchresponse.push(await fetch('{{ url | safe }}#' + `${mode}-${cache}-${redirect}-${integrity}`, {
                                    mode: mode,
                                    credentials: 'include',
                                    cache: cache,
                                    redirect: redirect,
                                    integrity: integrity
                                }))
                            } catch (error) {
                                window.error.push(error)
                            }
                        }
                    }
                }
            }
            console.log('[Testcase] InclusionMethod called')
        }
        
    </script>
</body>
</html>